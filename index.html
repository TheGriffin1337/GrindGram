<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <meta name="theme-color" content="#0a0a0f">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="description" content="Scrollr ‚Äì Tw√≥j feed inspirujƒÖcych tre≈õci">
    <title>Scrollr</title>
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="assets/css/app.css">
</head>
<body>

<!-- ============ AUTH SCREEN ============ -->
<div id="auth-screen" style="display:none">
    <div class="auth-logo">Scrollr</div>
    <div class="auth-tagline">Ucz siƒô. Scrolluj. Rozwijaj siƒô.</div>

    <div class="auth-box">
        <div class="auth-tabs">
            <button class="auth-tab active" data-tab="login">Zaloguj</button>
            <button class="auth-tab" data-tab="register">Rejestracja</button>
        </div>

        <!-- LOGIN -->
        <div id="login-form">
            <div class="form-group">
                <label>Email</label>
                <input type="email" name="email" placeholder="jan@example.com" required>
            </div>
            <div class="form-group">
                <label>Has≈Ço</label>
                <input type="password" name="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
            </div>
            <button class="btn btn-primary">Zaloguj siƒô</button>
        </div>

        <!-- REGISTER -->
        <div id="register-form" style="display:none">
            <div class="form-group">
                <label>Nazwa u≈ºytkownika</label>
                <input type="text" name="username" placeholder="jankowalski" minlength="3" required>
            </div>
            <div class="form-group">
                <label>Email</label>
                <input type="email" name="email" placeholder="jan@example.com" required>
            </div>
            <div class="form-group">
                <label>Has≈Ço</label>
                <input type="password" name="password" placeholder="min. 6 znak√≥w" minlength="6" required>
            </div>
            <button class="btn btn-primary">Utw√≥rz konto</button>
        </div>

        <button class="btn btn-secondary mt-16" onclick="showScreen('app')">
            PrzeglƒÖdaj bez konta ‚Üí
        </button>
    </div>
</div>

<!-- ============ MAIN APP ============ -->
<div id="main-app" style="display:none;flex-direction:column;height:100dvh">

    <!-- TOP NAV -->
    <nav class="nav" id="top-nav">
        <div class="nav-logo">Scrollr</div>
        <div style="display:flex;gap:8px">
            <button class="nav-btn" onclick="loadFeed(true)" title="Od≈õwie≈º">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
                </svg>
            </button>
            <button class="nav-btn" onclick="showView('ai')" title="Generuj AI">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
                </svg>
            </button>
        </div>
    </nav>

    <!-- CONTENT AREA -->
    <div style="flex:1;overflow:hidden;display:flex;flex-direction:column">

        <!-- FEED VIEW -->
        <div id="view-feed" class="view active" style="padding:0;flex:1;overflow:hidden;display:flex;flex-direction:column">
            <div id="feed" style="flex:1;overflow-y:auto;overflow-x:hidden;scroll-snap-type:y mandatory;-webkit-overflow-scrolling:touch">
                <div class="loader">
                    <div class="spinner"></div>
                    <span>≈Åadowanie post√≥w...</span>
                </div>
            </div>
        </div>

        <!-- UPLOAD VIEW -->
        <div id="view-upload" class="view">
            <div class="form-card">
                <h2 class="form-title">üì§ Dodaj post</h2>
                <form id="upload-form">
                    <div class="form-group">
                        <label>Typ posta</label>
                        <select id="post-type">
                            <option value="text">üìù Tekst</option>
                            <option value="image">üñºÔ∏è Obraz</option>
                            <option value="video">üé• Wideo</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Tytu≈Ç (opcjonalnie)</label>
                        <input id="post-title" type="text" placeholder="Tytu≈Ç posta...">
                    </div>
                    <div class="form-group">
                        <label>Tre≈õƒá</label>
                        <textarea id="post-content" placeholder="Co chcesz przekazaƒá?"></textarea>
                    </div>
                    <div class="form-group">
                        <label>Tagi (oddzielone przecinkami)</label>
                        <input id="post-tags" type="text" placeholder="nauka, motywacja, tech">
                    </div>
                    <div class="form-group">
                        <label>Plik (opcjonalnie)</label>
                        <div class="file-drop" id="file-drop">
                            <input type="file" id="file-input" accept="image/*,video/*">
                            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5" style="margin:0 auto 8px;display:block">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                            </svg>
                            <p>Kliknij lub przeciƒÖgnij zdjƒôcie/video</p>
                            <small style="margin-top:4px;display:block">JPG, PNG, MP4 ‚Äì max 50MB</small>
                        </div>
                        <div id="file-preview"></div>
                    </div>
                    <button type="submit" class="btn btn-primary">üì§ Opublikuj post</button>
                </form>
            </div>
        </div>

        <!-- AI GENERATOR VIEW -->
        <div id="view-ai" class="view">
            <div class="form-card">
                <h2 class="form-title">ü§ñ Generator AI</h2>
                <p class="text-muted" style="margin-bottom:20px">
                    Wpisz temat, a AI stworzy dla Ciebie inspirujƒÖcy post!
                </p>
                <form id="ai-form">
                    <div class="form-group">
                        <label>Kategoria</label>
                        <select id="ai-category">
                            <option value="motywacja">üí™ Motywacja</option>
                            <option value="programowanie">üíª Programowanie</option>
                            <option value="nauka">üìö Nauka i edukacja</option>
                            <option value="produktywno≈õƒá">‚ö° Produktywno≈õƒá</option>
                            <option value="psychologia">üß† Psychologia</option>
                            <option value="finanse">üí∞ Finanse osobiste</option>
                            <option value="zdrowie">üèÉ Zdrowie i fitness</option>
                            <option value="biznes">üöÄ Biznes i startup</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Temat / Prompt</label>
                        <textarea id="ai-prompt" rows="3"
                            placeholder="np. 'Jak budowaƒá nawyki metodƒÖ kaizen?' albo 'Zasada 80/20 w programowaniu'"></textarea>
                    </div>
                    <button type="submit" class="btn btn-ai">‚ú® Generuj post AI</button>
                </form>
            </div>
            <div id="ai-result"></div>
        </div>

        <!-- PROFILE VIEW -->
        <div id="view-profile" class="view">
            <!-- Renderowane dynamicznie przez JS -->
        </div>

    </div><!-- /content area -->

    <!-- BOTTOM NAV -->
    <nav class="bottom-nav">
        <button class="bnav-btn active" data-view="feed" onclick="showView('feed')">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
            </svg>
            Feed
        </button>
        <button class="bnav-btn" data-view="upload" onclick="showView('upload')">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4"/>
            </svg>
            Dodaj
        </button>
        <button class="bnav-btn" data-view="ai" onclick="showView('ai')">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
            </svg>
            AI
        </button>
        <button class="bnav-btn" data-view="profile" onclick="showView('profile')">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
            </svg>
            Profil
        </button>
    </nav>
</div><!-- /main-app -->

<!-- TOAST -->
<div id="toast"></div>

<script src="assets/js/app.js"></script>
</body>
</html>
